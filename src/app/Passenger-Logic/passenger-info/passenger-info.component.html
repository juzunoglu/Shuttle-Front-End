<div fxLayout fxLayoutAlign="center center space evenly">
  <mat-form-field fxFlex="50%">
    <mat-label>Filter</mat-label>
    <input label="search" matInput type="text" (keyup)="doFilter($event)" placeholder="Filter">
    <mat-icon matSuffix color="primary">search</mat-icon>
  </mat-form-field>
  <button class="button-remove-rows" mat-icon-button color="warn" (click)="removeSelectedRows()">
    Remove Rows
  </button>
</div>

<div class="mat-elevation-z8">
  <table class="table-hover" mat-table [dataSource]="dataSource" matSort>

    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef> Id.</th>
      <td mat-cell *matCellDef="let passenger"> {{passenger.id}}
        <mat-checkbox [color]="'primary'"
                      (change)="passenger.isSelected = $event.checked"
        >
        </mat-checkbox>

      </td>
    </ng-container>

    <!-- Name Column -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef mat-sort-header="name" matTooltip="Sort by Name"> Name</th>
      <td mat-cell *matCellDef="let passenger"> {{passenger.name}} </td>
    </ng-container>

    <ng-container matColumnDef="age">
      <th mat-header-cell *matHeaderCellDef> Age</th>
      <td mat-cell *matCellDef="let passenger"> {{passenger.age}} </td>
    </ng-container>

    <ng-container matColumnDef="phoneNumber">
      <th mat-header-cell *matHeaderCellDef> Phone Number</th>
      <td mat-cell *matCellDef="let passenger"> {{passenger.phoneNumber}} </td>
    </ng-container>

    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef> Email</th>
      <td mat-cell *matCellDef="let passenger"> {{passenger.email}} </td>
    </ng-container>

    <ng-container matColumnDef="lat">
      <th mat-header-cell *matHeaderCellDef> Latitude</th>
      <td mat-cell *matCellDef="let passenger"> {{passenger.latitude}} </td>
    </ng-container>

    <ng-container matColumnDef="lng">
      <th mat-header-cell *matHeaderCellDef> Longitude</th>
      <td mat-cell *matCellDef="let passenger"> {{passenger.longitude}} </td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef style="text-align: center; justify-content: flex-end"> Actions</th>
      <td mat-cell *matCellDef="let passenger" style="text-align: center">
        <button mat-icon-button
                (click)="onEdit(passenger)"
                matTooltip="Edit the passenger">
          <mat-icon color="primary">edit</mat-icon>
        </button>
        <button mat-icon-button matTooltip="Delete the passenger" (click)="onDelete(passenger.id)">
          <mat-icon color="warn">delete</mat-icon>
        </button>
        <button mat-icon-button matTooltip="Assign to a driver" (click)="assignToDriver(passenger)">
          <mat-icon color="primary">assignment_ind</mat-icon>
        </button>
        <button mat-icon-button matTooltip="View assigned drivers" (click)="viewAssignedDrivers(passenger)">
          <mat-icon color="primary">list</mat-icon>
        </button>

      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

  <mat-paginator [pageSizeOptions]="[5, 10, 20]"
                 showFirstLastButtons
                 aria-label="Select page">
  </mat-paginator>
</div>
